20:10:28.239 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
20:10:28.247 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
20:10:28.287 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
20:10:28.299 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests], using SpringBootContextLoader
20:10:28.302 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerTests-context.xml] does not exist
20:10:28.303 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerTestsContext.groovy] does not exist
20:10:28.303 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: no resource found for suffixes {-context.xml, Context.groovy}.
20:10:28.304 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: LoadBalancerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
20:10:28.368 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]
20:10:28.436 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/idflakies/spring-cloud/spring-cloud-kubernetes/spring-cloud-kubernetes-integration-tests/load-balancer/target/classes/org/springframework/cloud/kubernetes/fabric8/loadbalancer/SimpleLoadBalancerApp.class]
20:10:28.448 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests
20:10:28.543 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: using defaults.
20:10:28.544 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
20:10:28.554 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
20:10:28.554 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
20:10:28.555 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6cdba6dc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d3d101b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@30c8681, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5cdec700, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6d026701, org.springframework.test.context.support.DirtiesContextTestExecutionListener@78aa1f72, org.springframework.test.context.event.EventPublishingTestExecutionListener@1f75a668, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@35399441, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b7dc788, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6304101a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5170bcf4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2812b107, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@df6620a]
20:10:28.559 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@30bce90b testClass = LoadBalancerTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3e6f3f28 testClass = LoadBalancerTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5ace1ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4e096385, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@29d89d5d, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@37654521, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5403f35f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@46238e3f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]], class annotated with @DirtiesContext [false] with mode [null].
Apr 21, 2024 8:10:29 PM okhttp3.mockwebserver.MockWebServer$3 execute
INFO: MockWebServer[60621] starting to accept connections
20:10:29.219 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@30bce90b testClass = LoadBalancerTests, testInstance = org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests@41382722, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3e6f3f28 testClass = LoadBalancerTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5ace1ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4e096385, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@29d89d5d, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@37654521, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5403f35f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@46238e3f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]].

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-04-21 20:10:29.552  WARN 94391 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-04-21 20:10:29.564  INFO 94391 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Starting LoadBalancerTests using Java 1.8.0_292 on 003cc2912fe6 with PID 94391 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-04-21 20:10:29.565  INFO 94391 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : No active profile set, falling back to default profiles: default
2024-04-21 20:10:30.332  INFO 94391 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-04-21 20:10:30.717  INFO 94391 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-04-21 20:10:30.729  INFO 94391 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-21 20:10:30.729  INFO 94391 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-04-21 20:10:30.871  INFO 94391 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-04-21 20:10:30.871  INFO 94391 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1283 ms
2024-04-21 20:10:32.041  WARN 94391 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-04-21 20:10:32.085  INFO 94391 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 35469 (http) with context path ''
2024-04-21 20:10:32.096  INFO 94391 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Started LoadBalancerTests in 2.847 seconds (JVM running for 4.916)
2024-04-21 20:10:32.286  INFO 94391 --- [WebServer 39907] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39907] starting to accept connections
2024-04-21 20:10:32.436  INFO 94391 --- [127.0.0.1:36736] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60621] received request: POST /api/v1/namespaces/test/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:10:32.467  INFO 94391 --- [127.0.0.1:36736] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60621] received request: POST /api/v1/namespaces/test/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:10:32.643  INFO 94391 --- [127.0.0.1:36746] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60621] received request: GET /api/v1/namespaces/test/endpoints?fieldSelector=metadata.name%3Dservice-a HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:10:32.650  INFO 94391 --- [127.0.0.1:36746] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60621] received request: GET /api/v1/namespaces/test/services/service-a HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:10:32.824  INFO 94391 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-21 20:10:32.824  INFO 94391 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-21 20:10:32.825  INFO 94391 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-21 20:10:32.909  INFO 94391 --- [WebServer 39907] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39907] done accepting connections: Socket closed
