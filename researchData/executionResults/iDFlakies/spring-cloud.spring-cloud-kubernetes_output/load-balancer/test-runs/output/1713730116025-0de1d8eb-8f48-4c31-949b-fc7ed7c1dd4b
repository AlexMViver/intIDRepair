20:08:37.125 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
20:08:37.134 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
20:08:37.170 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
20:08:37.184 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests], using SpringBootContextLoader
20:08:37.189 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerAllNamespacesTests-context.xml] does not exist
20:08:37.190 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerAllNamespacesTestsContext.groovy] does not exist
20:08:37.190 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: no resource found for suffixes {-context.xml, Context.groovy}.
20:08:37.191 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: LoadBalancerAllNamespacesTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
20:08:37.254 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]
20:08:37.326 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/idflakies/spring-cloud/spring-cloud-kubernetes/spring-cloud-kubernetes-integration-tests/load-balancer/target/classes/org/springframework/cloud/kubernetes/fabric8/loadbalancer/SimpleLoadBalancerApp.class]
20:08:37.338 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests
20:08:37.462 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: using defaults.
20:08:37.462 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
20:08:37.480 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
20:08:37.481 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
20:08:37.482 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78aa1f72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f75a668, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@35399441, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4b7dc788, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6304101a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5170bcf4, org.springframework.test.context.event.EventPublishingTestExecutionListener@2812b107, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@df6620a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4e31276e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a72a540, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@27d5a580, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@198d6542, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5e403b4a]
20:08:37.487 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3406472c testClass = LoadBalancerAllNamespacesTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5717c37 testClass = LoadBalancerAllNamespacesTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{spring.cloud.kubernetes.discovery.all-namespaces=true, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4013, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@702b8b12, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4de4b452, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@76c3e77a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1442d7b5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]], class annotated with @DirtiesContext [false] with mode [null].
Apr 21, 2024 8:08:37 PM okhttp3.mockwebserver.MockWebServer$3 execute
INFO: MockWebServer[56829] starting to accept connections
20:08:38.083 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3406472c testClass = LoadBalancerAllNamespacesTests, testInstance = org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests@3d4d3fe7, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5717c37 testClass = LoadBalancerAllNamespacesTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{spring.cloud.kubernetes.discovery.all-namespaces=true, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4013, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@702b8b12, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4de4b452, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@76c3e77a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1442d7b5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]].

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-04-21 20:08:38.465  WARN 93326 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-04-21 20:08:38.482  INFO 93326 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : Starting LoadBalancerAllNamespacesTests using Java 1.8.0_292 on 003cc2912fe6 with PID 93326 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-04-21 20:08:38.483  INFO 93326 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : No active profile set, falling back to default profiles: default
2024-04-21 20:08:39.410  INFO 93326 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-04-21 20:08:39.866  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-04-21 20:08:39.878  INFO 93326 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-21 20:08:39.879  INFO 93326 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-04-21 20:08:40.042  INFO 93326 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-04-21 20:08:40.043  INFO 93326 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1535 ms
2024-04-21 20:08:41.261  WARN 93326 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-04-21 20:08:41.307  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 37293 (http) with context path ''
2024-04-21 20:08:41.319  INFO 93326 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : Started LoadBalancerAllNamespacesTests in 3.203 seconds (JVM running for 5.279)
2024-04-21 20:08:41.511  INFO 93326 --- [WebServer 44385] okhttp3.mockwebserver.MockWebServer      : MockWebServer[44385] starting to accept connections
2024-04-21 20:08:41.667  INFO 93326 --- [127.0.0.1:51820] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56829] received request: POST /api/v1/namespaces/b/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:41.713  INFO 93326 --- [127.0.0.1:51820] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56829] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:41.877  INFO 93326 --- [127.0.0.1:51822] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56829] received request: GET /api/v1/endpoints?fieldSelector=metadata.name%3Dservice-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:41.882  INFO 93326 --- [127.0.0.1:51822] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56829] received request: GET /api/v1/namespaces/b/services/service-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:42.057  INFO 93326 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-21 20:08:42.057  INFO 93326 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-21 20:08:42.058  INFO 93326 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-21 20:08:42.142  INFO 93326 --- [WebServer 44385] okhttp3.mockwebserver.MockWebServer      : MockWebServer[44385] done accepting connections: Socket closed
2024-04-21 20:08:42.153  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests], using SpringBootContextLoader
2024-04-21 20:08:42.154  INFO 93326 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-04-21 20:08:42.154  INFO 93326 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: LoadBalancerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-04-21 20:08:42.156  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests
2024-04-21 20:08:42.159  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-04-21 20:08:42.161  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7cd3e0da, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@919086, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@67e77f52, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ead1d80, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d1bf7bf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1182413a, org.springframework.test.context.event.EventPublishingTestExecutionListener@4d43a1b7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5b14f482, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19705650, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a785fd5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4a660b34, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@362a561e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2df3545d]
2024-04-21 20:08:42.164  INFO 93326 --- [WebServer 45069] okhttp3.mockwebserver.MockWebServer      : MockWebServer[45069] starting to accept connections

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-04-21 20:08:42.197  WARN 93326 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-04-21 20:08:42.200  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Starting LoadBalancerTests using Java 1.8.0_292 on 003cc2912fe6 with PID 93326 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-04-21 20:08:42.201  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : No active profile set, falling back to default profiles: default
2024-04-21 20:08:42.400  INFO 93326 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-04-21 20:08:42.549  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-04-21 20:08:42.550  INFO 93326 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-21 20:08:42.550  INFO 93326 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-04-21 20:08:42.564  INFO 93326 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-04-21 20:08:42.564  INFO 93326 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 361 ms
2024-04-21 20:08:43.148  WARN 93326 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-04-21 20:08:43.167  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 32787 (http) with context path ''
2024-04-21 20:08:43.171  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Started LoadBalancerTests in 1.004 seconds (JVM running for 7.132)
2024-04-21 20:08:43.179  INFO 93326 --- [WebServer 52427] okhttp3.mockwebserver.MockWebServer      : MockWebServer[52427] starting to accept connections
2024-04-21 20:08:43.184  INFO 93326 --- [127.0.0.1:37818] okhttp3.mockwebserver.MockWebServer      : MockWebServer[45069] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.190  INFO 93326 --- [127.0.0.1:37818] okhttp3.mockwebserver.MockWebServer      : MockWebServer[45069] received request: POST /api/v1/namespaces/b/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.248  INFO 93326 --- [127.0.0.1:37826] okhttp3.mockwebserver.MockWebServer      : MockWebServer[45069] received request: GET /api/v1/namespaces/test/endpoints?fieldSelector=metadata.name%3Dservice-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.249  WARN 93326 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-b
2024-04-21 20:08:43.252  INFO 93326 --- [WebServer 52427] okhttp3.mockwebserver.MockWebServer      : MockWebServer[52427] done accepting connections: Socket closed
2024-04-21 20:08:43.256  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests], using SpringBootContextLoader
2024-04-21 20:08:43.257  INFO 93326 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-04-21 20:08:43.257  INFO 93326 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: LoadBalancerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-04-21 20:08:43.258  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests
2024-04-21 20:08:43.259  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-04-21 20:08:43.261  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3ea75b05, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@30d5e37c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1da745a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4597e6e3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@41ece227, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e3d2765, org.springframework.test.context.event.EventPublishingTestExecutionListener@7910f355, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@34ab26a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@259195fe, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@12209826, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6cd45b6c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3a5b7d7e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@13cc31ae]
2024-04-21 20:08:43.263  INFO 93326 --- [WebServer 56605] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56605] starting to accept connections
2024-04-21 20:08:43.268  INFO 93326 --- [WebServer 54795] okhttp3.mockwebserver.MockWebServer      : MockWebServer[54795] starting to accept connections
2024-04-21 20:08:43.273  INFO 93326 --- [127.0.0.1:44766] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56605] received request: POST /api/v1/namespaces/test/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.277  INFO 93326 --- [127.0.0.1:44766] okhttp3.mockwebserver.MockWebServer      : MockWebServer[56605] received request: POST /api/v1/namespaces/test/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.332  INFO 93326 --- [127.0.0.1:37826] okhttp3.mockwebserver.MockWebServer      : MockWebServer[45069] received request: GET /api/v1/namespaces/test/endpoints?fieldSelector=metadata.name%3Dservice-a HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:43.333  WARN 93326 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-a
java.lang.IllegalStateException: No instances available for service-a
	at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:84)
	at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334)
	at org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests.testLoadBalancerSameNamespace(LoadBalancerTests.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at edu.illinois.cs.testrunner.execution.JUnit5TestExecutor.runTestsSeparately(JUnit5TestExecutor.java:40)
	at edu.illinois.cs.testrunner.execution.Executor$.$anonfun$run$1(Executor.scala:33)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
	at scala.util.Try$.apply(Try.scala:209)
	at edu.illinois.cs.testrunner.execution.Executor$.run(Executor.scala:28)
	at edu.illinois.cs.testrunner.execution.Executor$.main(Executor.scala:18)
	at edu.illinois.cs.testrunner.execution.Executor.main(Executor.scala)
2024-04-21 20:08:43.341  INFO 93326 --- [WebServer 54795] okhttp3.mockwebserver.MockWebServer      : MockWebServer[54795] done accepting connections: Socket closed
2024-04-21 20:08:43.348  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests], using SpringBootContextLoader
2024-04-21 20:08:43.349  INFO 93326 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-04-21 20:08:43.350  INFO 93326 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: LoadBalancerWithServiceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-04-21 20:08:43.353  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests
2024-04-21 20:08:43.354  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-04-21 20:08:43.355  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@20820df0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@9e62fb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@205159dc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@43c0c13a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@731db93f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67941d, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ad2b274, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6fde6f05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7114e780, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4def42c3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@72110818, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6eabe718, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@38d525aa]
2024-04-21 20:08:43.357  INFO 93326 --- [WebServer 39037] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39037] starting to accept connections

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-04-21 20:08:43.385  WARN 93326 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-04-21 20:08:43.387  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : Starting LoadBalancerWithServiceTests using Java 1.8.0_292 on 003cc2912fe6 with PID 93326 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-04-21 20:08:43.387  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : No active profile set, falling back to default profiles: default
2024-04-21 20:08:43.546  INFO 93326 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-04-21 20:08:44.041  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-04-21 20:08:44.042  INFO 93326 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-21 20:08:44.042  INFO 93326 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-04-21 20:08:44.052  INFO 93326 --- [           main] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-04-21 20:08:44.052  INFO 93326 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 662 ms
2024-04-21 20:08:44.545  WARN 93326 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-04-21 20:08:44.563  INFO 93326 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 45441 (http) with context path ''
2024-04-21 20:08:44.566  INFO 93326 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : Started LoadBalancerWithServiceTests in 1.206 seconds (JVM running for 8.527)
2024-04-21 20:08:44.574  INFO 93326 --- [WebServer 35729] okhttp3.mockwebserver.MockWebServer      : MockWebServer[35729] starting to accept connections
2024-04-21 20:08:44.595  INFO 93326 --- [127.0.0.1:52716] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39037] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:44.613  INFO 93326 --- [127.0.0.1:52718] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39037] received request: GET /api/v1/namespaces/test/services/service-b HTTP/1.1 and responded: HTTP/1.1 404 Client Error
2024-04-21 20:08:44.618  WARN 93326 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-b
2024-04-21 20:08:44.622  INFO 93326 --- [WebServer 35729] okhttp3.mockwebserver.MockWebServer      : MockWebServer[35729] done accepting connections: Socket closed
2024-04-21 20:08:44.626  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests], using SpringBootContextLoader
2024-04-21 20:08:44.627  INFO 93326 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-04-21 20:08:44.627  INFO 93326 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: LoadBalancerWithServiceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-04-21 20:08:44.628  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests
2024-04-21 20:08:44.630  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-04-21 20:08:44.631  INFO 93326 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@71262020, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5f3ddc86, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@78e043e4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@336d28a1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@738a39cc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42e202d7, org.springframework.test.context.event.EventPublishingTestExecutionListener@38e7860c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@62158991, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40738846, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1255de25, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1686ed85, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5891b7c5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4fc3529]
2024-04-21 20:08:44.634  INFO 93326 --- [WebServer 52523] okhttp3.mockwebserver.MockWebServer      : MockWebServer[52523] starting to accept connections
2024-04-21 20:08:44.639  INFO 93326 --- [WebServer 51505] okhttp3.mockwebserver.MockWebServer      : MockWebServer[51505] starting to accept connections
2024-04-21 20:08:44.645  INFO 93326 --- [127.0.0.1:34002] okhttp3.mockwebserver.MockWebServer      : MockWebServer[52523] received request: POST /api/v1/namespaces/test/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-04-21 20:08:44.663  INFO 93326 --- [127.0.0.1:52718] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39037] received request: GET /api/v1/namespaces/test/services/service-a HTTP/1.1 and responded: HTTP/1.1 404 Client Error
2024-04-21 20:08:44.663  WARN 93326 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-a
java.lang.IllegalStateException: No instances available for service-a
	at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:84)
	at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334)
	at org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests.testLoadBalancerSameNamespace(LoadBalancerWithServiceTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at edu.illinois.cs.testrunner.execution.JUnit5TestExecutor.runTestsSeparately(JUnit5TestExecutor.java:40)
	at edu.illinois.cs.testrunner.execution.Executor$.$anonfun$run$1(Executor.scala:33)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
	at scala.util.Try$.apply(Try.scala:209)
	at edu.illinois.cs.testrunner.execution.Executor$.run(Executor.scala:28)
	at edu.illinois.cs.testrunner.execution.Executor$.main(Executor.scala:18)
	at edu.illinois.cs.testrunner.execution.Executor.main(Executor.scala)
2024-04-21 20:08:44.668  INFO 93326 --- [WebServer 51505] okhttp3.mockwebserver.MockWebServer      : MockWebServer[51505] done accepting connections: Socket closed
