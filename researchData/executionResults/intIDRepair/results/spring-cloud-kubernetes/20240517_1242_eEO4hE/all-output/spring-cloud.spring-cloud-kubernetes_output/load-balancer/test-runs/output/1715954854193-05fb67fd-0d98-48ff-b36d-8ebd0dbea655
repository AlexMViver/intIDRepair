14:07:35.068 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:07:35.076 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:07:35.113 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
14:07:35.125 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests], using SpringBootContextLoader
14:07:35.129 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerAllNamespacesTests-context.xml] does not exist
14:07:35.130 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: class path resource [org/springframework/cloud/kubernetes/fabric8/loadbalancer/LoadBalancerAllNamespacesTestsContext.groovy] does not exist
14:07:35.130 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14:07:35.131 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: LoadBalancerAllNamespacesTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:07:35.179 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]
14:07:35.240 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/home/idflakies/spring-cloud/spring-cloud-kubernetes/spring-cloud-kubernetes-integration-tests/load-balancer/target/classes/org/springframework/cloud/kubernetes/fabric8/loadbalancer/SimpleLoadBalancerApp.class]
14:07:35.250 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests
14:07:35.337 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests]: using defaults.
14:07:35.337 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14:07:35.352 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
14:07:35.352 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
14:07:35.353 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78aa1f72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f75a668, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@35399441, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4b7dc788, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6304101a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5170bcf4, org.springframework.test.context.event.EventPublishingTestExecutionListener@2812b107, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@df6620a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4e31276e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a72a540, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@27d5a580, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@198d6542, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5e403b4a]
14:07:35.356 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3406472c testClass = LoadBalancerAllNamespacesTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5717c37 testClass = LoadBalancerAllNamespacesTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{spring.cloud.kubernetes.discovery.all-namespaces=true, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4013, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@702b8b12, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4de4b452, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@76c3e77a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1442d7b5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false]], class annotated with @DirtiesContext [false] with mode [null].
May 17, 2024 2:07:35 PM okhttp3.mockwebserver.MockWebServer$3 execute
INFO: MockWebServer[53717] starting to accept connections
14:07:35.984 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@3406472c testClass = LoadBalancerAllNamespacesTests, testInstance = org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerAllNamespacesTests@3d4d3fe7, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5717c37 testClass = LoadBalancerAllNamespacesTests, locations = '{}', classes = '{class org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{spring.cloud.kubernetes.discovery.all-namespaces=true, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4013, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@702b8b12, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4de4b452, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@76c3e77a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1442d7b5], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]].

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-05-17 14:07:36.339  WARN 75461 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-05-17 14:07:36.352  INFO 75461 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : Starting LoadBalancerAllNamespacesTests using Java 1.8.0_292 on 9168d08beda2 with PID 75461 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-05-17 14:07:36.352  INFO 75461 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : No active profile set, falling back to default profiles: default
2024-05-17 14:07:37.148  INFO 75461 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-05-17 14:07:37.588  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-05-17 14:07:37.600  INFO 75461 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-17 14:07:37.601  INFO 75461 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-05-17 14:07:37.759  INFO 75461 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-05-17 14:07:37.759  INFO 75461 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1384 ms
2024-05-17 14:07:38.964  WARN 75461 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-05-17 14:07:39.012  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 44811 (http) with context path ''
2024-05-17 14:07:39.023  INFO 75461 --- [           main] s.c.k.f.l.LoadBalancerAllNamespacesTests : Started LoadBalancerAllNamespacesTests in 3.01 seconds (JVM running for 4.824)
2024-05-17 14:07:39.230  INFO 75461 --- [WebServer 43017] okhttp3.mockwebserver.MockWebServer      : MockWebServer[43017] starting to accept connections
2024-05-17 14:07:39.407  INFO 75461 --- [127.0.0.1:54740] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53717] received request: POST /api/v1/namespaces/b/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:39.469  INFO 75461 --- [127.0.0.1:54740] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53717] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:39.642  INFO 75461 --- [127.0.0.1:54746] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53717] received request: GET /api/v1/endpoints?fieldSelector=metadata.name%3Dservice-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:39.649  INFO 75461 --- [127.0.0.1:54746] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53717] received request: GET /api/v1/namespaces/b/services/service-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:39.836  INFO 75461 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-17 14:07:39.836  INFO 75461 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-05-17 14:07:39.837  INFO 75461 --- [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-05-17 14:07:39.915  INFO 75461 --- [WebServer 43017] okhttp3.mockwebserver.MockWebServer      : MockWebServer[43017] done accepting connections: Socket closed
2024-05-17 14:07:39.924  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests], using SpringBootContextLoader
2024-05-17 14:07:39.925  INFO 75461 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-05-17 14:07:39.926  INFO 75461 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: LoadBalancerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-17 14:07:39.927  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests
2024-05-17 14:07:39.930  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-05-17 14:07:39.932  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@ad0bb4e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7196a8f1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6a6da47a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@8f39224, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f642bf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@43e3a390, org.springframework.test.context.event.EventPublishingTestExecutionListener@44aa91e2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@50dc49e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@650a1aff, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3babcaed, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b9e69fb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@19bfbe28, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2c579202]
2024-05-17 14:07:39.934  INFO 75461 --- [WebServer 40129] okhttp3.mockwebserver.MockWebServer      : MockWebServer[40129] starting to accept connections

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-05-17 14:07:39.972  WARN 75461 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-05-17 14:07:39.975  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Starting LoadBalancerTests using Java 1.8.0_292 on 9168d08beda2 with PID 75461 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-05-17 14:07:39.975  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : No active profile set, falling back to default profiles: default
2024-05-17 14:07:40.195  INFO 75461 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-05-17 14:07:40.305  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-05-17 14:07:40.306  INFO 75461 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-17 14:07:40.307  INFO 75461 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-05-17 14:07:40.323  INFO 75461 --- [           main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-05-17 14:07:40.323  INFO 75461 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 346 ms
2024-05-17 14:07:40.841  WARN 75461 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-05-17 14:07:40.858  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 43125 (http) with context path ''
2024-05-17 14:07:40.863  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerTests            : Started LoadBalancerTests in 0.926 seconds (JVM running for 6.664)
2024-05-17 14:07:40.872  INFO 75461 --- [WebServer 42925] okhttp3.mockwebserver.MockWebServer      : MockWebServer[42925] starting to accept connections
2024-05-17 14:07:40.877  INFO 75461 --- [127.0.0.1:32982] okhttp3.mockwebserver.MockWebServer      : MockWebServer[40129] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:40.882  INFO 75461 --- [127.0.0.1:32982] okhttp3.mockwebserver.MockWebServer      : MockWebServer[40129] received request: POST /api/v1/namespaces/b/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:40.947  INFO 75461 --- [127.0.0.1:32986] okhttp3.mockwebserver.MockWebServer      : MockWebServer[40129] received request: GET /api/v1/namespaces/test/endpoints?fieldSelector=metadata.name%3Dservice-b HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:40.948  WARN 75461 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-b
2024-05-17 14:07:40.952  INFO 75461 --- [WebServer 42925] okhttp3.mockwebserver.MockWebServer      : MockWebServer[42925] done accepting connections: Socket closed
2024-05-17 14:07:40.956  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests], using SpringBootContextLoader
2024-05-17 14:07:40.957  INFO 75461 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-05-17 14:07:40.957  INFO 75461 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests]: LoadBalancerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-17 14:07:40.958  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests
2024-05-17 14:07:40.959  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-05-17 14:07:40.960  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@754de353, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@ee2ae9a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58b97c15, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@26994c6a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3cd46491, org.springframework.test.context.support.DirtiesContextTestExecutionListener@27d98bef, org.springframework.test.context.event.EventPublishingTestExecutionListener@349312d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5885e231, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47eaf55c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2c0798bd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2e3252, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@77cddc0c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@671d97bc]
2024-05-17 14:07:40.962  INFO 75461 --- [WebServer 60835] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60835] starting to accept connections
2024-05-17 14:07:40.967  INFO 75461 --- [WebServer 44137] okhttp3.mockwebserver.MockWebServer      : MockWebServer[44137] starting to accept connections
2024-05-17 14:07:40.971  INFO 75461 --- [127.0.0.1:35324] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60835] received request: POST /api/v1/namespaces/test/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:40.975  INFO 75461 --- [127.0.0.1:35324] okhttp3.mockwebserver.MockWebServer      : MockWebServer[60835] received request: POST /api/v1/namespaces/test/endpoints HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:41.031  INFO 75461 --- [127.0.0.1:32986] okhttp3.mockwebserver.MockWebServer      : MockWebServer[40129] received request: GET /api/v1/namespaces/test/endpoints?fieldSelector=metadata.name%3Dservice-a HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:41.031  WARN 75461 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-a
java.lang.IllegalStateException: No instances available for service-a
	at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:84)
	at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334)
	at org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerTests.testLoadBalancerSameNamespace(LoadBalancerTests.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at edu.illinois.cs.testrunner.execution.JUnit5TestExecutor.runTestsSeparately(JUnit5TestExecutor.java:40)
	at edu.illinois.cs.testrunner.execution.Executor$.$anonfun$run$1(Executor.scala:33)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
	at scala.util.Try$.apply(Try.scala:209)
	at edu.illinois.cs.testrunner.execution.Executor$.run(Executor.scala:28)
	at edu.illinois.cs.testrunner.execution.Executor$.main(Executor.scala:18)
	at edu.illinois.cs.testrunner.execution.Executor.main(Executor.scala)
2024-05-17 14:07:41.037  INFO 75461 --- [WebServer 44137] okhttp3.mockwebserver.MockWebServer      : MockWebServer[44137] done accepting connections: Socket closed
2024-05-17 14:07:41.045  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests], using SpringBootContextLoader
2024-05-17 14:07:41.045  INFO 75461 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-05-17 14:07:41.046  INFO 75461 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: LoadBalancerWithServiceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-17 14:07:41.049  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests
2024-05-17 14:07:41.051  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-05-17 14:07:41.052  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2e29f28e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7bfa1eb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@32b46831, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5353dd09, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@320ff86f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@192b472d, org.springframework.test.context.event.EventPublishingTestExecutionListener@84f51d9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@45b96e4c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@8383a14, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4b691611, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@395a573c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@379f9555, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7e3ee128]
2024-05-17 14:07:41.054  INFO 75461 --- [WebServer 39941] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39941] starting to accept connections

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.3)

2024-05-17 14:07:41.082  WARN 75461 --- [           main] ubernetesProfileEnvironmentPostProcessor : Not running inside kubernetes. Skipping 'kubernetes' profile activation.
2024-05-17 14:07:41.084  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : Starting LoadBalancerWithServiceTests using Java 1.8.0_292 on 9168d08beda2 with PID 75461 (started by idflakies in /home/idflakies/spring-cloud/spring-cloud-kubernetes)
2024-05-17 14:07:41.084  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : No active profile set, falling back to default profiles: default
2024-05-17 14:07:41.254  INFO 75461 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6ed38a8a-182b-30b2-8978-4377b69da042
2024-05-17 14:07:41.717  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2024-05-17 14:07:41.718  INFO 75461 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-05-17 14:07:41.718  INFO 75461 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2024-05-17 14:07:41.728  INFO 75461 --- [           main] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-05-17 14:07:41.728  INFO 75461 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 641 ms
2024-05-17 14:07:42.269  WARN 75461 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-05-17 14:07:42.293  INFO 75461 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 44747 (http) with context path ''
2024-05-17 14:07:42.298  INFO 75461 --- [           main] o.s.c.k.f.l.LoadBalancerWithServiceTests : Started LoadBalancerWithServiceTests in 1.241 seconds (JVM running for 8.098)
2024-05-17 14:07:42.308  INFO 75461 --- [WebServer 50891] okhttp3.mockwebserver.MockWebServer      : MockWebServer[50891] starting to accept connections
2024-05-17 14:07:42.330  INFO 75461 --- [127.0.0.1:48702] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39941] received request: POST /api/v1/namespaces/b/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:42.348  INFO 75461 --- [127.0.0.1:48710] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39941] received request: GET /api/v1/namespaces/test/services/service-b HTTP/1.1 and responded: HTTP/1.1 404 Client Error
2024-05-17 14:07:42.353  WARN 75461 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-b
2024-05-17 14:07:42.357  INFO 75461 --- [WebServer 50891] okhttp3.mockwebserver.MockWebServer      : MockWebServer[50891] done accepting connections: Socket closed
2024-05-17 14:07:42.360  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests], using SpringBootContextLoader
2024-05-17 14:07:42.361  INFO 75461 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-05-17 14:07:42.361  INFO 75461 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests]: LoadBalancerWithServiceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-17 14:07:42.362  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration org.springframework.cloud.kubernetes.fabric8.loadbalancer.SimpleLoadBalancerApp for test class org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests
2024-05-17 14:07:42.363  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-05-17 14:07:42.365  INFO 75461 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@35ceec81, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@d13379e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7c8df667, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@498e41a4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@be616f0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f5d7fd5, org.springframework.test.context.event.EventPublishingTestExecutionListener@cf08c97, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@37c87fcc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@ca2be53, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78f5cbc5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@70697478, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@42b43a6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1d622556]
2024-05-17 14:07:42.367  INFO 75461 --- [WebServer 34659] okhttp3.mockwebserver.MockWebServer      : MockWebServer[34659] starting to accept connections
2024-05-17 14:07:42.372  INFO 75461 --- [WebServer 53635] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53635] starting to accept connections
2024-05-17 14:07:42.377  INFO 75461 --- [127.0.0.1:45540] okhttp3.mockwebserver.MockWebServer      : MockWebServer[34659] received request: POST /api/v1/namespaces/test/services HTTP/1.1 and responded: HTTP/1.1 200 OK
2024-05-17 14:07:42.391  INFO 75461 --- [127.0.0.1:48710] okhttp3.mockwebserver.MockWebServer      : MockWebServer[39941] received request: GET /api/v1/namespaces/test/services/service-a HTTP/1.1 and responded: HTTP/1.1 404 Client Error
2024-05-17 14:07:42.391  WARN 75461 --- [           main] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: service-a
java.lang.IllegalStateException: No instances available for service-a
	at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:84)
	at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334)
	at org.springframework.cloud.kubernetes.fabric8.loadbalancer.LoadBalancerWithServiceTests.testLoadBalancerSameNamespace(LoadBalancerWithServiceTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at edu.illinois.cs.testrunner.execution.JUnit5TestExecutor.runTestsSeparately(JUnit5TestExecutor.java:40)
	at edu.illinois.cs.testrunner.execution.Executor$.$anonfun$run$1(Executor.scala:33)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
	at scala.util.Try$.apply(Try.scala:209)
	at edu.illinois.cs.testrunner.execution.Executor$.run(Executor.scala:28)
	at edu.illinois.cs.testrunner.execution.Executor$.main(Executor.scala:18)
	at edu.illinois.cs.testrunner.execution.Executor.main(Executor.scala)
2024-05-17 14:07:42.395  INFO 75461 --- [WebServer 53635] okhttp3.mockwebserver.MockWebServer      : MockWebServer[53635] done accepting connections: Socket closed
